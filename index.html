<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Share PDF Test</title>
</head>
<body>
  <h2>Share PDF Example</h2>
  <button onclick="onShareClick()">Share PDF test 1</button>

  <script>
    async function sharePdf(pdfBlob, filename) {
      if (navigator.canShare && navigator.canShare({ files: [new File([pdfBlob], filename, { type: 'application/pdf' })] })) {
        try {
          await navigator.share({
            files: [new File([pdfBlob], filename, { type: 'application/pdf' })],
            title: 'Share PDF',
            text: 'Check out this PDF!',
          });
          console.log('PDF shared successfully!');
        } catch (error) {
          console.error('Error sharing PDF:', error);
        }
      } else {
        console.warn('Web Share API not supported or cannot share files.');
      }
    }

    function onShareClick() {
      // Minimal valid PDF header (not a full PDF, but works for testing)
      const pdfBytes = new Uint8Array([0x25,0x50,0x44,0x46,0x2D,0x31,0x2E,0x34,0x0A]); // %PDF-1.4\n
      const pdfBlob = new Blob([pdfBytes], { type: 'application/pdf' });
      sharePdf(pdfBlob, 'test.pdf');
    }
  </script>
</body>
</html>
